exports.id=86,exports.ids=[86],exports.modules={73462:(e,a,t)=>{"use strict";let n;t.r(a),t.d(a,{default:()=>u,generateImageMetadata:()=>f,generateMetadata:()=>l,generateViewport:()=>b}),t(19020);var r=t(23808),c=t(87394),s=t(35247),o=t(54580),d=t(20830),i=t(49813);n=new Proxy(function({children:e}){return(0,d.jsxs)("main",{className:"flex min-h-screen w-full justify-between font-inter",children:[e,(0,d.jsx)("div",{className:"auth-asset",children:(0,d.jsx)("div",{children:(0,d.jsx)(i.default,{src:"/icons/auth-image.svg",alt:"Auth image",width:500,height:500,className:"rounded-l-xl object-contain"})})})]})},{apply:(e,a,t)=>{let n,d,i;try{let e=o.requestAsyncStorage.getStore();n=(0,r.h)((0,c.x)([e,"optionalAccess",e=>e.headers,"access",e=>e.get,"call",e=>e("sentry-trace")]),()=>void 0),d=(0,r.h)((0,c.x)([e,"optionalAccess",e=>e.headers,"access",e=>e.get,"call",e=>e("baggage")]),()=>void 0),i=(0,c.x)([e,"optionalAccess",e=>e.headers])}catch(e){}return s.D(e,{componentRoute:"/(auth)",componentType:"Layout",sentryTraceHeader:n,baggageHeader:d,headers:i}).apply(a,t)}});let l=void 0,f=void 0,b=void 0,u=n},63835:(e,a,t)=>{"use strict";let n;t.r(a),t.d(a,{default:()=>v,dynamic:()=>h,generateImageMetadata:()=>x,generateMetadata:()=>p,generateViewport:()=>y,metadata:()=>g}),t(19020);var r=t(23808),c=t(87394),s=t(35247),o=t(54580),d=t(20830),i=t(62586),l=t.n(i),f=t(85841),b=t.n(f),u=t(3911),m=t.n(u);t(67272);let h="force-dynamic",g={title:"Horizon",description:"Horizon is a modern banking platform for everyone.",icons:{icon:"/icons/logo.svg"}};n=new Proxy(function({children:e}){return(0,d.jsx)("html",{lang:"en",children:(0,d.jsx)("body",{className:`${l().variable} ${b().variable} ${m().variable} bg-brand-25 text-gray-900`,children:e})})},{apply:(e,a,t)=>{let n,d,i;try{let e=o.requestAsyncStorage.getStore();n=(0,r.h)((0,c.x)([e,"optionalAccess",e=>e.headers,"access",e=>e.get,"call",e=>e("sentry-trace")]),()=>void 0),d=(0,r.h)((0,c.x)([e,"optionalAccess",e=>e.headers,"access",e=>e.get,"call",e=>e("baggage")]),()=>void 0),i=(0,c.x)([e,"optionalAccess",e=>e.headers])}catch(e){}return s.D(e,{componentRoute:"/",componentType:"Layout",sentryTraceHeader:n,baggageHeader:d,headers:i}).apply(a,t)}});let p=void 0,x=void 0,y=void 0,v=n},46208:(e,a,t)=>{let n={"0c6abdfc05975ca931c616070f9610a7d4edeb93":()=>Promise.resolve().then(t.bind(t,56377)).then(e=>e.getUserInfo),"17ca3ab6b56e9365257f6f843a86e66d5f3f6473":()=>Promise.resolve().then(t.bind(t,56377)).then(e=>e.$$ACTION_3),"25721a35d2fe130c1ff474c4de7710f1cce0e709":()=>Promise.resolve().then(t.bind(t,56377)).then(e=>e.signIn),"3a72c31716dcf678fb03a613ecb98008bba14249":()=>Promise.resolve().then(t.bind(t,56377)).then(e=>e.$$ACTION_6),"41198538d6c39cdb21c86e11f48c72f83aed5759":()=>Promise.resolve().then(t.bind(t,56377)).then(e=>e.$$ACTION_1),"46de93f3843589f54b84009dd3fb9d59627f4794":()=>Promise.resolve().then(t.bind(t,56377)).then(e=>e.createBankAccount),"50005c5c699f14f3a294171b16d72b3deb916f50":()=>Promise.resolve().then(t.bind(t,56377)).then(e=>e.$$ACTION_2),"5ad0e2471a0e8eb9288066e0e7edc8d2d41b8e8a":()=>Promise.resolve().then(t.bind(t,56377)).then(e=>e.getBank),"6d855c1627048a6ebd98afbc22ddad7f629ef4c5":()=>Promise.resolve().then(t.bind(t,56377)).then(e=>e.$$ACTION_8),"76c543ac95374899df976998450aebcafeccc541":()=>Promise.resolve().then(t.bind(t,56377)).then(e=>e.getBanks),"7856b3d61afb998297a3020bd8745f8dadbfaae3":()=>Promise.resolve().then(t.bind(t,56377)).then(e=>e.getLoggedInUser),"7f0ee6411b2acea9133ca38f8c272dfb06fc3d05":()=>Promise.resolve().then(t.bind(t,56377)).then(e=>e.$$ACTION_4),"804ba20cc210e20d7947f09427826f717cad6349":()=>Promise.resolve().then(t.bind(t,56377)).then(e=>e.$$ACTION_7),"8277fc41e254a29bb35a2b2dfa72600f0f7c843f":()=>Promise.resolve().then(t.bind(t,56377)).then(e=>e.$$ACTION_5),"923fa2bad5a2a347bf920347118846f8171a0c84":()=>Promise.resolve().then(t.bind(t,56377)).then(e=>e.exchangePublicToken),"96e8039961c618e3ba4be2eca75b43aa5c0a737d":()=>Promise.resolve().then(t.bind(t,56377)).then(e=>e.getBankByAccountId),"9d8e523dbbfd38ae42b6ca7f1d1d2a26663bad08":()=>Promise.resolve().then(t.bind(t,56377)).then(e=>e.signUp),c391474a31505ae378b536f07f75f2e9cae3b0e8:()=>Promise.resolve().then(t.bind(t,56377)).then(e=>e.$$ACTION_0),cd7ed88b570f42c314b42295d09cd6a2659196e9:()=>Promise.resolve().then(t.bind(t,56377)).then(e=>e.createLinkToken),e2eb05fceb805a0cb45baca36f07e6c465fa249a:()=>Promise.resolve().then(t.bind(t,56377)).then(e=>e.logoutAccount),ecbc6cf96f975980d8cd6acdd589835eba42e886:()=>Promise.resolve().then(t.bind(t,56377)).then(e=>e.$$ACTION_9)};async function r(e,...a){return(await n[e]()).apply(null,a)}e.exports={"0c6abdfc05975ca931c616070f9610a7d4edeb93":r.bind(null,"0c6abdfc05975ca931c616070f9610a7d4edeb93"),"17ca3ab6b56e9365257f6f843a86e66d5f3f6473":r.bind(null,"17ca3ab6b56e9365257f6f843a86e66d5f3f6473"),"25721a35d2fe130c1ff474c4de7710f1cce0e709":r.bind(null,"25721a35d2fe130c1ff474c4de7710f1cce0e709"),"3a72c31716dcf678fb03a613ecb98008bba14249":r.bind(null,"3a72c31716dcf678fb03a613ecb98008bba14249"),"41198538d6c39cdb21c86e11f48c72f83aed5759":r.bind(null,"41198538d6c39cdb21c86e11f48c72f83aed5759"),"46de93f3843589f54b84009dd3fb9d59627f4794":r.bind(null,"46de93f3843589f54b84009dd3fb9d59627f4794"),"50005c5c699f14f3a294171b16d72b3deb916f50":r.bind(null,"50005c5c699f14f3a294171b16d72b3deb916f50"),"5ad0e2471a0e8eb9288066e0e7edc8d2d41b8e8a":r.bind(null,"5ad0e2471a0e8eb9288066e0e7edc8d2d41b8e8a"),"6d855c1627048a6ebd98afbc22ddad7f629ef4c5":r.bind(null,"6d855c1627048a6ebd98afbc22ddad7f629ef4c5"),"76c543ac95374899df976998450aebcafeccc541":r.bind(null,"76c543ac95374899df976998450aebcafeccc541"),"7856b3d61afb998297a3020bd8745f8dadbfaae3":r.bind(null,"7856b3d61afb998297a3020bd8745f8dadbfaae3"),"7f0ee6411b2acea9133ca38f8c272dfb06fc3d05":r.bind(null,"7f0ee6411b2acea9133ca38f8c272dfb06fc3d05"),"804ba20cc210e20d7947f09427826f717cad6349":r.bind(null,"804ba20cc210e20d7947f09427826f717cad6349"),"8277fc41e254a29bb35a2b2dfa72600f0f7c843f":r.bind(null,"8277fc41e254a29bb35a2b2dfa72600f0f7c843f"),"923fa2bad5a2a347bf920347118846f8171a0c84":r.bind(null,"923fa2bad5a2a347bf920347118846f8171a0c84"),"96e8039961c618e3ba4be2eca75b43aa5c0a737d":r.bind(null,"96e8039961c618e3ba4be2eca75b43aa5c0a737d"),"9d8e523dbbfd38ae42b6ca7f1d1d2a26663bad08":r.bind(null,"9d8e523dbbfd38ae42b6ca7f1d1d2a26663bad08"),c391474a31505ae378b536f07f75f2e9cae3b0e8:r.bind(null,"c391474a31505ae378b536f07f75f2e9cae3b0e8"),cd7ed88b570f42c314b42295d09cd6a2659196e9:r.bind(null,"cd7ed88b570f42c314b42295d09cd6a2659196e9"),e2eb05fceb805a0cb45baca36f07e6c465fa249a:r.bind(null,"e2eb05fceb805a0cb45baca36f07e6c465fa249a"),ecbc6cf96f975980d8cd6acdd589835eba42e886:r.bind(null,"ecbc6cf96f975980d8cd6acdd589835eba42e886")}},3143:(e,a,t)=>{Promise.resolve().then(t.bind(t,93429))},39564:(e,a,t)=>{Promise.resolve().then(t.bind(t,85594))},92596:(e,a,t)=>{Promise.resolve().then(t.t.bind(t,65351,23)),Promise.resolve().then(t.t.bind(t,40788,23)),Promise.resolve().then(t.t.bind(t,32134,23)),Promise.resolve().then(t.t.bind(t,26972,23)),Promise.resolve().then(t.t.bind(t,35269,23)),Promise.resolve().then(t.t.bind(t,87337,23))},90032:(e,a,t)=>{Promise.resolve().then(t.t.bind(t,43364,23))},4723:()=>{},93429:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>s});var n=t(40612),r=t(67521),c=t.n(r);function s({error:e}){return n.jsx("html",{children:n.jsx("body",{children:n.jsx(c(),{})})})}t(50030)},85594:(e,a,t)=>{"use strict";t.d(a,{default:()=>x});var n=t(40612),r=t(25152),c=t(22961),s=t(50030),o=t(51146),d=t(21494),i=t(35326),l=t(5498),f=t(82594),b=t(38371);(0,b.RL)("sign-up");let u=({control:e,name:a,label:t,placeholder:r})=>n.jsx(l.Wi,{control:e,name:a,render:({field:e})=>(0,n.jsxs)("div",{className:"form-item",children:[n.jsx(l.lX,{className:"form-label",children:t}),(0,n.jsxs)("div",{className:"flex w-full flex-col",children:[n.jsx(l.NI,{children:n.jsx(f.I,{placeholder:r,className:"input-class",type:"password"===a?"password":"text",...e})}),n.jsx(l.zG,{className:"form-message mt-2"})]})]})});var m=t(79668),h=t(20297),g=t(43776),p=t(30271);let x=({type:e})=>{let a=(0,h.useRouter)(),[t,f]=(0,s.useState)(null),[x,y]=(0,s.useState)(!1),[v,w]=(0,s.useState)(null),j=(0,b.RL)(e),N=(0,d.cI)({resolver:(0,o.F)(j),defaultValues:{email:"",password:""}}),_=async t=>{y(!0),w(null);try{if("sign-up"===e){let e={firstName:t.firstName,lastName:t.lastName,address1:t.address1,city:t.city,state:t.state,postalCode:t.postalCode,dateOfBirth:t.dateOfBirth,ssn:t.ssn,email:t.email,password:t.password},a=await (0,g.y1)(e);if(!a?.success){w(a?.error??"Sign up failed. Please try again.");return}f(a.data)}if("sign-in"===e){let e=await (0,g.zB)({email:t.email,password:t.password});if(!e?.success){w(e?.error??"Sign in failed. Please try again.");return}a.push("/")}}catch(e){console.log(e),w("Something went wrong. Please try again.")}finally{y(!1)}};return(0,n.jsxs)("section",{className:"auth-form",children:[(0,n.jsxs)("header",{className:"flex flex-col gap-5 md:gap-8",children:[(0,n.jsxs)(c.default,{href:"/",className:"cursor-pointer flex items-center gap-1",children:[n.jsx(r.default,{src:"/icons/logo.svg",width:34,height:34,alt:"Horizon logo"}),n.jsx("h1",{className:"text-26 font-ibm-plex-serif font-bold text-black-1",children:"Horizon"})]}),n.jsx("div",{className:"flex flex-col gap-1 md:gap-3",children:(0,n.jsxs)("h1",{className:"text-24 lg:text-36 font-semibold text-gray-900",children:[t?"Link Account":"sign-in"===e?"Sign In":"Sign Up",n.jsx("p",{className:"text-16 font-normal text-gray-600",children:t?"Link your account to get started":"Please enter your details"})]})})]}),t?n.jsx("div",{className:"flex flex-col gap-4",children:n.jsx(p.Z,{user:t,variant:"primary"})}):(0,n.jsxs)(n.Fragment,{children:[n.jsx(l.l0,{...N,children:(0,n.jsxs)("form",{onSubmit:N.handleSubmit(_),className:"space-y-8",children:["sign-up"===e&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"flex gap-4",children:[n.jsx(u,{control:N.control,name:"firstName",label:"First Name",placeholder:"Enter your first name"}),n.jsx(u,{control:N.control,name:"lastName",label:"Last Name",placeholder:"Enter your first name"})]}),n.jsx(u,{control:N.control,name:"address1",label:"Address",placeholder:"Enter your specific address"}),n.jsx(u,{control:N.control,name:"city",label:"City",placeholder:"Enter your city"}),(0,n.jsxs)("div",{className:"flex gap-4",children:[n.jsx(u,{control:N.control,name:"state",label:"State",placeholder:"Example: NY"}),n.jsx(u,{control:N.control,name:"postalCode",label:"Postal Code",placeholder:"Example: 11101"})]}),(0,n.jsxs)("div",{className:"flex gap-4",children:[n.jsx(u,{control:N.control,name:"dateOfBirth",label:"Date of Birth",placeholder:"YYYY-MM-DD"}),n.jsx(u,{control:N.control,name:"ssn",label:"SSN",placeholder:"Example: 1234"})]})]}),n.jsx(u,{control:N.control,name:"email",label:"Email",placeholder:"Enter your email"}),n.jsx(u,{control:N.control,name:"password",label:"Password",placeholder:"Enter your password"}),(0,n.jsxs)("div",{className:"flex flex-col gap-4",children:[n.jsx(i.z,{type:"submit",disabled:x,className:"form-btn",children:x?(0,n.jsxs)(n.Fragment,{children:[n.jsx(m.Z,{size:20,className:"animate-spin"})," \xa0 Loading..."]}):"sign-in"===e?"Sign In":"Sign Up"}),v&&n.jsx("p",{className:"text-14 text-red-500",role:"alert",children:v})]})]})}),(0,n.jsxs)("footer",{className:"flex justify-center gap-1",children:[n.jsx("p",{className:"text-14 font-normal text-gray-600",children:"sign-in"===e?"Don't have an account?":"Already have an account?"}),n.jsx(c.default,{href:"sign-in"===e?"/sign-up":"/sign-in",className:"form-link",children:"sign-in"===e?"Sign up":"Sign in"})]})]})]})}},30271:(e,a,t)=>{"use strict";t.d(a,{Z:()=>f});var n=t(40612),r=t(50030),c=t(35326),s=t(27337),o=t(20297),d=t(43776),i=t(25152),l=t(23510);let f=({user:e,variant:a})=>{let t=(0,o.useRouter)(),[f,b]=(0,r.useState)(""),u=(0,r.useMemo)(()=>(0,l.Pj)(),[]);(0,r.useEffect)(()=>{u&&(async()=>{let a=await (0,d.Sn)(e);b(a?.linkToken)})()},[e,u]);let m=(0,r.useCallback)(async a=>{await (0,d.XP)({publicToken:a,user:e}),t.push("/")},[e,t]),{open:h,ready:g}=(0,s.Iw)({token:f,onSuccess:m});return u?n.jsx(n.Fragment,{children:"primary"===a?n.jsx(c.z,{onClick:()=>h(),disabled:!g,className:"plaidlink-primary",children:"Connect bank"}):"ghost"===a?(0,n.jsxs)(c.z,{onClick:()=>h(),variant:"ghost",className:"plaidlink-ghost",children:[n.jsx(i.default,{src:"/icons/connect-bank.svg",alt:"connect bank",width:24,height:24}),n.jsx("p",{className:"hiddenl text-[16px] font-semibold text-black-2 xl:block",children:"Connect bank"})]}):(0,n.jsxs)(c.z,{onClick:()=>h(),className:"plaidlink-default",children:[n.jsx(i.default,{src:"/icons/connect-bank.svg",alt:"connect bank",width:24,height:24}),n.jsx("p",{className:"text-[16px] font-semibold text-black-2",children:"Connect bank"})]})}):"primary"===a?n.jsx("div",{className:"rounded-lg border border-brand-100 bg-white p-4 text-sm text-gray-600",children:"Plaid connections are temporarily unavailable. You can continue by adding manual transactions or contact support to enable automated syncing."}):null}},35326:(e,a,t)=>{"use strict";t.d(a,{z:()=>i});var n=t(40612),r=t(50030),c=t(73332),s=t(534),o=t(38371);let d=(0,s.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),i=r.forwardRef(({className:e,variant:a,size:t,asChild:r=!1,...s},i)=>{let l=r?c.g7:"button";return n.jsx(l,{className:(0,o.cn)(d({variant:a,size:t,className:e})),ref:i,...s})});i.displayName="Button"},5498:(e,a,t)=>{"use strict";t.d(a,{l0:()=>f,NI:()=>x,pf:()=>y,Wi:()=>u,xJ:()=>g,lX:()=>p,zG:()=>v});var n=t(40612),r=t(50030),c=t(73332),s=t(21494),o=t(38371),d=t(50546);let i=(0,t(534).j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),l=r.forwardRef(({className:e,...a},t)=>n.jsx(d.f,{ref:t,className:(0,o.cn)(i(),e),...a}));l.displayName=d.f.displayName;let f=s.RV,b=r.createContext({}),u=({...e})=>n.jsx(b.Provider,{value:{name:e.name},children:n.jsx(s.Qr,{...e})}),m=()=>{let e=r.useContext(b),a=r.useContext(h),{getFieldState:t,formState:n}=(0,s.Gc)(),c=t(e.name,n);if(!e)throw Error("useFormField should be used within <FormField>");let{id:o}=a;return{id:o,name:e.name,formItemId:`${o}-form-item`,formDescriptionId:`${o}-form-item-description`,formMessageId:`${o}-form-item-message`,...c}},h=r.createContext({}),g=r.forwardRef(({className:e,...a},t)=>{let c=r.useId();return n.jsx(h.Provider,{value:{id:c},children:n.jsx("div",{ref:t,className:(0,o.cn)("space-y-2",e),...a})})});g.displayName="FormItem";let p=r.forwardRef(({className:e,...a},t)=>{let{error:r,formItemId:c}=m();return n.jsx(l,{ref:t,className:(0,o.cn)(r&&"text-destructive",e),htmlFor:c,...a})});p.displayName="FormLabel";let x=r.forwardRef(({...e},a)=>{let{error:t,formItemId:r,formDescriptionId:s,formMessageId:o}=m();return n.jsx(c.g7,{ref:a,id:r,"aria-describedby":t?`${s} ${o}`:`${s}`,"aria-invalid":!!t,...e})});x.displayName="FormControl";let y=r.forwardRef(({className:e,...a},t)=>{let{formDescriptionId:r}=m();return n.jsx("p",{ref:t,id:r,className:(0,o.cn)("text-sm text-muted-foreground",e),...a})});y.displayName="FormDescription";let v=r.forwardRef(({className:e,children:a,...t},r)=>{let{error:c,formMessageId:s}=m(),d=c?String(c?.message):a;return d?n.jsx("p",{ref:r,id:s,className:(0,o.cn)("text-sm font-medium text-destructive",e),...t,children:d}):null});v.displayName="FormMessage"},82594:(e,a,t)=>{"use strict";t.d(a,{I:()=>s});var n=t(40612),r=t(50030),c=t(38371);let s=r.forwardRef(({className:e,type:a,...t},r)=>n.jsx("input",{type:a,className:(0,c.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));s.displayName="Input"},43776:(e,a,t)=>{"use strict";t.d(a,{Sn:()=>d,XD:()=>r,XP:()=>i,cM:()=>l,ok:()=>o,y1:()=>s,zB:()=>c}),t(13455);var n=t(26039),r=(0,n.$)("96e8039961c618e3ba4be2eca75b43aa5c0a737d");(0,n.$)("0c6abdfc05975ca931c616070f9610a7d4edeb93");var c=(0,n.$)("25721a35d2fe130c1ff474c4de7710f1cce0e709"),s=(0,n.$)("9d8e523dbbfd38ae42b6ca7f1d1d2a26663bad08");(0,n.$)("7856b3d61afb998297a3020bd8745f8dadbfaae3");var o=(0,n.$)("e2eb05fceb805a0cb45baca36f07e6c465fa249a"),d=(0,n.$)("cd7ed88b570f42c314b42295d09cd6a2659196e9");(0,n.$)("46de93f3843589f54b84009dd3fb9d59627f4794");var i=(0,n.$)("923fa2bad5a2a347bf920347118846f8171a0c84");(0,n.$)("76c543ac95374899df976998450aebcafeccc541");var l=(0,n.$)("5ad0e2471a0e8eb9288066e0e7edc8d2d41b8e8a")},23510:(e,a,t)=>{"use strict";t.d(a,{Pj:()=>r});let n=(e,a)=>{if(null==e)return a;switch(e.toLowerCase()){case"1":case"true":case"yes":case"on":return!0;case"0":case"false":case"no":case"off":return!1;default:return a}},r=()=>n("true",!0)},38371:(e,a,t)=>{"use strict";t.d(a,{Jk:()=>f,RL:()=>u,T$:()=>b,Yz:()=>l,cn:()=>o,dN:()=>d});var n=t(62830),r=t(90665),c=t(51663),s=t(18467);function o(...e){return(0,c.m6)((0,n.W)(e))}function d(e){return i(e)}let i=(e,a="USD")=>new Intl.NumberFormat("en-US",{style:"currency",currency:a}).format(e);function l({params:e,key:a,value:t}){let n=r.Z.parse(e);return n[a]=t,r.Z.stringifyUrl({url:window.location.pathname,query:n},{skipNull:!0})}function f(e){switch(e){case"depository":return{bg:"bg-blue-25",lightBg:"bg-blue-100",title:"text-blue-900",subText:"text-blue-700"};case"credit":return{bg:"bg-success-25",lightBg:"bg-success-100",title:"text-success-900",subText:"text-success-700"};default:return{bg:"bg-green-25",lightBg:"bg-green-100",title:"text-green-900",subText:"text-green-700"}}}function b(e){return atob(e)}let u=e=>s.Ry({firstName:"sign-in"===e?s.Z_().optional():s.Z_().min(3),lastName:"sign-in"===e?s.Z_().optional():s.Z_().min(3),address1:"sign-in"===e?s.Z_().optional():s.Z_().max(50),city:"sign-in"===e?s.Z_().optional():s.Z_().max(50),state:"sign-in"===e?s.Z_().optional():s.Z_().min(2).max(2),postalCode:"sign-in"===e?s.Z_().optional():s.Z_().min(3).max(6),dateOfBirth:"sign-in"===e?s.Z_().optional():s.Z_().min(3),ssn:"sign-in"===e?s.Z_().optional():s.Z_().min(3),email:s.Z_().email(),password:s.Z_().min(8)})},86864:(e,a,t)=>{"use strict";t.d(a,{Z:()=>n});let n=(0,t(85418).createProxy)(String.raw`/Users/kaveh/Horizon-bank/banking/app/global-error.jsx#default`)},55951:(e,a,t)=>{"use strict";t.d(a,{Z:()=>n});let n=(0,t(85418).createProxy)(String.raw`/Users/kaveh/Horizon-bank/banking/components/AuthForm.tsx#default`)},56377:(e,a,t)=>{"use strict";t.r(a),t.d(a,{$$ACTION_0:()=>O,$$ACTION_1:()=>z,$$ACTION_2:()=>B,$$ACTION_3:()=>M,$$ACTION_4:()=>q,$$ACTION_5:()=>H,$$ACTION_6:()=>X,$$ACTION_7:()=>Q,$$ACTION_8:()=>K,$$ACTION_9:()=>ea,createBankAccount:()=>Y,createLinkToken:()=>W,exchangePublicToken:()=>V,getBank:()=>G,getBankByAccountId:()=>ee,getBanks:()=>J,getLoggedInUser:()=>F,getUserInfo:()=>L,logoutAccount:()=>U,signIn:()=>R,signUp:()=>Z});var n=t(54150);t(12640);var r=t(31438),c=t(63103),s=t(99344);async function o(){let e=new r.Client().setEndpoint("https://cloud.appwrite.io/v1").setProject("662cd3d0000d7d095714"),a=(0,c.cookies)().get("appwrite-session");if(!a||!a.value)throw Error("No session");return e.setSession(a.value),{get account(){return new r.Account(e)},get database(){return new r.Databases(e)}}}async function d(){let e=new r.Client().setEndpoint("https://cloud.appwrite.io/v1").setProject("662cd3d0000d7d095714").setKey(process.env.NEXT_APPWRITE_KEY);return{get account(){return new r.Account(e)},get database(){return new r.Databases(e)},get user(){return new r.Users(e)}}}(0,s.h)([o,d]),(0,n.j)("20c0c63400d137797aa5358d136bb866203214f8",o),(0,n.j)("31013b9227c35d126f40c98c903f1b22c3072ac4",d);let i=e=>JSON.parse(JSON.stringify(e)),l="horizon-authorized-email",f=e=>e.trim().toLowerCase(),b=()=>{let e=process.env.ALLOWED_EMAILS;return e?e.split(",").map(e=>e.trim()).filter(e=>e.length>0).map(e=>e.toLowerCase()):[]},u=e=>{if(!e)return!1;let a=b();return 0===a.length||a.includes(f(e))};var m=t(24681);let h=new m.Configuration({basePath:m.PlaidEnvironments.sandbox,baseOptions:{headers:{"PLAID-CLIENT-ID":process.env.PLAID_CLIENT_ID,"PLAID-SECRET":process.env.PLAID_SECRET}}}),g=new m.PlaidApi(h);var p=t(37637);let x=new(t(59234)).Client({environment:(()=>{switch(process.env.DWOLLA_ENV){case"sandbox":return"sandbox";case"production":return"production";default:throw Error("Dwolla environment should either be set to `sandbox` or `production`")}})(),key:process.env.DWOLLA_KEY,secret:process.env.DWOLLA_SECRET}),y=(0,n.j)("145d25530d361400f8c0e03a2246b031736ce670",v);async function v(e){try{return await x.post(`customers/${e.customerId}/funding-sources`,{name:e.fundingSourceName,plaidToken:e.plaidToken}).then(e=>e.headers.get("location"))}catch(e){console.error("Creating a Funding Source Failed: ",e)}}let w=(0,n.j)("7cdeba4b8d5a54f11560b53f07f0ea66f48465fb",j);async function j(){try{return(await x.post("on-demand-authorizations")).body._links}catch(e){console.error("Creating an On Demand Authorization Failed: ",e)}}let N=(0,n.j)("cdee6dab4e0daeb5db09c9a135ba52a62c2196c8",_);async function _(e){try{return await x.post("customers",e).then(e=>e.headers.get("location"))}catch(e){console.error("Creating a Dwolla Customer Failed: ",e)}}let k=(0,n.j)("918dacc5acf66a8711d2c4b53855d61a4305d152",I);async function I({sourceFundingSourceUrl:e,destinationFundingSourceUrl:a,amount:t}){try{return await x.post("transfers",{_links:{source:{href:e},destination:{href:a}},amount:{currency:"USD",value:t}}).then(e=>e.headers.get("location"))}catch(e){console.error("Transfer fund failed: ",e)}}let P=(0,n.j)("4d4a5c12509b890fc3ed40c3380ebde20647682c",$);async function $({dwollaCustomerId:e,processorToken:a,bankName:t}){try{let n=await w();return await y({customerId:e,fundingSourceName:t,plaidToken:a,_links:n})}catch(e){console.error("Transfer fund failed: ",e)}}(0,s.h)([y,w,N,k,P]),(0,n.j)("35dd761518f51a48793356df9624b0555588fe79",y),(0,n.j)("5a7e265742824c6cf1530dd0cbb7db95cb8f4531",w),(0,n.j)("6ab4aec36ca7aace9c1fbdc7f7bd6d156ddb7759",N),(0,n.j)("2cabda13407f7759054f6583a0cd05619a68c46b",k),(0,n.j)("e1f4143a5fe2ddcaf6150630c4a5ba0af1233862",P);let{APPWRITE_DATABASE_ID:A,APPWRITE_USER_COLLECTION_ID:C,APPWRITE_BANK_COLLECTION_ID:T}=process.env,E={path:"/",httpOnly:!0,sameSite:"strict",secure:!0},S="This email isn't authorized to access Horizon. Please contact support.",D=async()=>{try{let{database:e}=await o();return e}catch(a){let{database:e}=await d();return e}},L=(0,n.j)("c391474a31505ae378b536f07f75f2e9cae3b0e8",O);async function O({userId:e}){try{let a=await D(),t=await a.listDocuments(A,C,[r.Query.equal("userId",[e])]);return i(t.documents[0])}catch(e){console.log(e)}}let R=(0,n.j)("41198538d6c39cdb21c86e11f48c72f83aed5759",z);async function z({email:e,password:a}){try{if(!u(e))return{success:!1,error:S};let{account:t}=await d(),n=await t.createEmailPasswordSession(e,a),r=await L({userId:n.userId});if(!r)return await t.deleteSession(n.$id),{success:!1,error:"Unable to locate your profile. Please contact support."};if(!u(r.email))return await t.deleteSession(n.$id),{success:!1,error:S};let s=(0,c.cookies)();return s.set("appwrite-session",n.secret,E),s.set(l,r.email,E),{success:!0,data:i(r)}}catch(e){return console.error("Error",e),{success:!1,error:"Unable to sign in. Please check your credentials and try again."}}}let Z=(0,n.j)("50005c5c699f14f3a294171b16d72b3deb916f50",B);async function B({password:e,...a}){let t;let{email:n,firstName:s,lastName:o}=a;try{if(!u(n))return{success:!1,error:S};let{account:f,database:b}=await d();if(!(t=await f.create(r.ID.unique(),n,e,`${s} ${o}`)))throw Error("Error creating user");let m=await N({...a,type:"personal"});if(!m)throw Error("Error creating Dwolla customer");let h=function(e){let a=e.split("/");return a[a.length-1]}(m),g=await b.createDocument(A,C,r.ID.unique(),{...a,userId:t.$id,dwollaCustomerId:h,dwollaCustomerUrl:m}),p=await f.createEmailPasswordSession(n,e),x=(0,c.cookies)();return x.set("appwrite-session",p.secret,E),x.set(l,n,E),{success:!0,data:i(g)}}catch(e){return console.error("Error",e),{success:!1,error:"Unable to sign up. Please review your details and try again."}}}async function F(){try{let{account:e}=await o(),a=await e.get(),t=await L({userId:a.$id});return i(t)}catch(e){return console.log(e),null}}let U=(0,n.j)("17ca3ab6b56e9365257f6f843a86e66d5f3f6473",M);async function M(){try{let{account:e}=await o();(0,c.cookies)().delete("appwrite-session"),(0,c.cookies)().delete(l),await e.deleteSession("current")}catch(e){return null}}let W=(0,n.j)("7f0ee6411b2acea9133ca38f8c272dfb06fc3d05",q);async function q(e){try{let a={user:{client_user_id:e.$id},client_name:`${e.firstName} ${e.lastName}`,products:["auth"],language:"en",country_codes:["US"]},t=await g.linkTokenCreate(a);return i({linkToken:t.data.link_token})}catch(e){console.log(e)}}let Y=(0,n.j)("8277fc41e254a29bb35a2b2dfa72600f0f7c843f",H);async function H({userId:e,bankId:a,accountId:t,accessToken:n,fundingSourceUrl:c,shareableId:s}){try{let{database:o}=await d(),l=await o.createDocument(A,T,r.ID.unique(),{userId:e,bankId:a,accountId:t,accessToken:n,fundingSourceUrl:c,shareableId:s});return i(l)}catch(e){console.log(e)}}let V=(0,n.j)("3a72c31716dcf678fb03a613ecb98008bba14249",X);async function X({publicToken:e,user:a}){try{var t;let n=await g.itemPublicTokenExchange({public_token:e}),r=n.data.access_token,c=n.data.item_id,s=(await g.accountsGet({access_token:r})).data.accounts[0],o={access_token:r,account_id:s.account_id,processor:"dwolla"},d=(await g.processorTokenCreate(o)).data.processor_token,l=await P({dwollaCustomerId:a.dwollaCustomerId,processorToken:d,bankName:s.name});if(!l)throw Error;return await Y({userId:a.$id,bankId:c,accountId:s.account_id,accessToken:r,fundingSourceUrl:l,shareableId:(t=s.account_id,btoa(t))}),(0,p.revalidatePath)("/"),i({publicTokenExchange:"complete"})}catch(e){console.error("An error occurred while creating exchanging token:",e)}}let J=(0,n.j)("804ba20cc210e20d7947f09427826f717cad6349",Q);async function Q({userId:e}){try{let a=await D(),t=await a.listDocuments(A,T,[r.Query.equal("userId",[e])]);return i(t.documents)}catch(e){console.log(e)}}let G=(0,n.j)("6d855c1627048a6ebd98afbc22ddad7f629ef4c5",K);async function K({documentId:e}){try{let a=await D(),t=await a.listDocuments(A,T,[r.Query.equal("$id",[e])]);return i(t.documents[0])}catch(e){console.log(e)}}let ee=(0,n.j)("ecbc6cf96f975980d8cd6acdd589835eba42e886",ea);async function ea({accountId:e}){try{let a=await D(),t=await a.listDocuments(A,T,[r.Query.equal("accountId",[e])]);if(1!==t.total)return null;return i(t.documents[0])}catch(e){console.log(e)}}(0,s.h)([L,R,Z,F,U,W,Y,V,J,G,ee]),(0,n.j)("0c6abdfc05975ca931c616070f9610a7d4edeb93",L),(0,n.j)("25721a35d2fe130c1ff474c4de7710f1cce0e709",R),(0,n.j)("9d8e523dbbfd38ae42b6ca7f1d1d2a26663bad08",Z),(0,n.j)("7856b3d61afb998297a3020bd8745f8dadbfaae3",F),(0,n.j)("e2eb05fceb805a0cb45baca36f07e6c465fa249a",U),(0,n.j)("cd7ed88b570f42c314b42295d09cd6a2659196e9",W),(0,n.j)("46de93f3843589f54b84009dd3fb9d59627f4794",Y),(0,n.j)("923fa2bad5a2a347bf920347118846f8171a0c84",V),(0,n.j)("76c543ac95374899df976998450aebcafeccc541",J),(0,n.j)("5ad0e2471a0e8eb9288066e0e7edc8d2d41b8e8a",G),(0,n.j)("96e8039961c618e3ba4be2eca75b43aa5c0a737d",ee)},19020:(e,a,t)=>{"use strict";var n=t(79415),r="undefined"!=typeof global?global:"undefined"!=typeof self?self:{};r.__sentryRewritesTunnelPath__=void 0,r.SENTRY_RELEASE={id:"exNcgfiVJfy5RsoPxINDM"},r.__sentryBasePath=void 0,r.__rewriteFramesDistDir__=".next",n.S1({dsn:"https://e300b41df2ffb6d4592972400a25c0d3@o4506876178464768.ingest.us.sentry.io/4507159179034624",tracesSampleRate:1,debug:!1})},67272:()=>{}};
//# sourceMappingURL=86.js.map