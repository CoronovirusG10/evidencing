"use strict";exports.id=899,exports.ids=[899],exports.modules={14672:(e,r,a)=>{a.d(r,{ManualTransactionSheet:()=>N});var t=a(40612),s=a(50030),n=a(18467),l=a(51146),o=a(21494);let c=(0,a(8435).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);var i=a(79668),d=a(38662),x=a(5498),m=a(82594),b=a(12043),u=a(48225),h=a(35326),g=a(87896);let j=n.Ry({bankId:n.Z_().min(1,"Select a bank account"),name:n.Z_().min(2,"Enter a description"),amount:n.oQ.number().positive("Amount must be greater than 0"),direction:n.Km(["credit","debit"]),date:n.Z_().min(1,"Select a transaction date"),category:n.Z_().optional(),notes:n.Z_().max(280,"Notes must be under 280 characters").optional()}),p=["General","Dining","Travel","Housing","Utilities","Income","Transfer","Investment"],f=()=>new Date().toISOString().slice(0,10),N=({accounts:e,defaultBankId:r})=>{let[a,n]=(0,s.useState)(!1),[N,C]=(0,s.useState)(!1),[y,k]=(0,s.useState)(null),v=(0,s.useMemo)(()=>r??e[0]?.appwriteItemId??"",[e,r]),w=(0,o.cI)({resolver:(0,l.F)(j),defaultValues:{bankId:v,direction:"debit",date:f(),name:"",amount:0,category:"General",notes:""}});(0,s.useEffect)(()=>{a&&r&&w.setValue("bankId",r)},[r,w,a]);let I=()=>{w.reset({bankId:v,direction:"debit",date:f(),name:"",amount:0,category:"General",notes:""}),k(null)},F=async e=>{C(!0),k(null);try{await (0,g.kP)({bankId:e.bankId,name:e.name,amount:e.amount,direction:e.direction,category:e.category,date:e.date,notes:e.notes}),I(),n(!1)}catch(e){console.error(e),k("Unable to save transaction. Please try again.")}finally{C(!1)}},T=0===e.length;return(0,t.jsxs)(d.yo,{open:a,onOpenChange:e=>{n(e),e&&I()},children:[t.jsx(d.aM,{asChild:!0,children:(0,t.jsxs)(h.z,{className:"flex items-center gap-2",disabled:T,variant:"outline",children:[t.jsx(c,{className:"h-4 w-4"}),"Manual transaction"]})}),(0,t.jsxs)(d.ue,{className:"flex w-full flex-col gap-6 overflow-y-auto bg-white p-6 sm:max-w-lg",children:[(0,t.jsxs)(d.Tu,{className:"items-start text-left",children:[t.jsx(d.bC,{children:"Add manual transaction"}),t.jsx(d.Ei,{children:"Record manual credits or debits for the selected account. Saved entries immediately refresh your dashboard and history."})]}),t.jsx(x.l0,{...w,children:(0,t.jsxs)("form",{onSubmit:w.handleSubmit(F),className:"flex flex-1 flex-col gap-5",children:[t.jsx(x.Wi,{control:w.control,name:"bankId",render:({field:r})=>(0,t.jsxs)(x.xJ,{children:[t.jsx(x.lX,{children:"Account"}),t.jsx(x.NI,{children:(0,t.jsxs)(b.Ph,{onValueChange:r.onChange,value:r.value,disabled:T,children:[t.jsx(b.i4,{children:t.jsx(b.ki,{placeholder:"Select account"})}),t.jsx(b.Bw,{children:e.map(e=>(0,t.jsxs)(b.Ql,{value:e.appwriteItemId,children:[e.name," • ",e.mask?`••••${e.mask}`:e.appwriteItemId.slice(-4)]},e.appwriteItemId))})]})}),t.jsx(x.zG,{})]})}),t.jsx(x.Wi,{control:w.control,name:"name",render:({field:e})=>(0,t.jsxs)(x.xJ,{children:[t.jsx(x.lX,{children:"Description"}),t.jsx(x.NI,{children:t.jsx(m.I,{placeholder:"e.g. Office supplies",...e})}),t.jsx(x.zG,{})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[t.jsx(x.Wi,{control:w.control,name:"amount",render:({field:e})=>{let r=e.value?.toString?.()??"";return(0,t.jsxs)(x.xJ,{children:[t.jsx(x.lX,{children:"Amount (USD)"}),t.jsx(x.NI,{children:t.jsx(m.I,{type:"number",step:"0.01",min:"0",placeholder:"0.00",value:"0"===r?"":r,onChange:r=>e.onChange(r.target.value)})}),t.jsx(x.zG,{})]})}}),t.jsx(x.Wi,{control:w.control,name:"direction",render:({field:e})=>(0,t.jsxs)(x.xJ,{children:[t.jsx(x.lX,{children:"Type"}),t.jsx(x.NI,{children:(0,t.jsxs)(b.Ph,{onValueChange:e.onChange,value:e.value,children:[t.jsx(b.i4,{children:t.jsx(b.ki,{})}),(0,t.jsxs)(b.Bw,{children:[t.jsx(b.Ql,{value:"debit",children:"Debit (money out)"}),t.jsx(b.Ql,{value:"credit",children:"Credit (money in)"})]})]})}),t.jsx(x.zG,{})]})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[t.jsx(x.Wi,{control:w.control,name:"date",render:({field:e})=>(0,t.jsxs)(x.xJ,{children:[t.jsx(x.lX,{children:"Date"}),t.jsx(x.NI,{children:t.jsx(m.I,{type:"date",max:f(),...e})}),t.jsx(x.zG,{})]})}),t.jsx(x.Wi,{control:w.control,name:"category",render:({field:e})=>(0,t.jsxs)(x.xJ,{children:[t.jsx(x.lX,{children:"Category"}),t.jsx(x.NI,{children:(0,t.jsxs)(b.Ph,{onValueChange:e.onChange,value:e.value??"General",children:[t.jsx(b.i4,{children:t.jsx(b.ki,{})}),t.jsx(b.Bw,{children:p.map(e=>t.jsx(b.Ql,{value:e,children:e},e))})]})}),t.jsx(x.zG,{})]})})]}),t.jsx(x.Wi,{control:w.control,name:"notes",render:({field:e})=>(0,t.jsxs)(x.xJ,{children:[t.jsx(x.lX,{children:"Notes"}),t.jsx(x.NI,{children:t.jsx(u.g,{placeholder:"Optional memo...",className:"resize-none",...e})}),t.jsx(x.zG,{})]})}),y&&t.jsx("p",{className:"text-sm text-red-500",role:"alert",children:y}),(0,t.jsxs)(d.FF,{className:"mt-auto flex w-full justify-end gap-3 sm:justify-between",children:[t.jsx(h.z,{type:"button",variant:"outline",onClick:()=>{I(),n(!1)},children:"Cancel"}),t.jsx(h.z,{type:"submit",disabled:N||T,children:N?(0,t.jsxs)(t.Fragment,{children:[t.jsx(i.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):"Save transaction"})]})]})})]})]})}},170:(e,r,a)=>{a.d(r,{r:()=>t});let t=(0,a(85418).createProxy)(String.raw`/Users/kaveh/Horizon-bank/banking/components/ManualTransactionSheet.tsx#ManualTransactionSheet`)},5425:(e,r,a)=>{a.d(r,{Z:()=>u});var t=a(20830),s=a(72077),n=a(24510);let l=s.forwardRef(({className:e,...r},a)=>t.jsx("div",{className:"relative w-full overflow-auto",children:t.jsx("table",{ref:a,className:(0,n.cn)("w-full caption-bottom text-sm",e),...r})}));l.displayName="Table";let o=s.forwardRef(({className:e,...r},a)=>t.jsx("thead",{ref:a,className:(0,n.cn)("[&_tr]:border-b",e),...r}));o.displayName="TableHeader";let c=s.forwardRef(({className:e,...r},a)=>t.jsx("tbody",{ref:a,className:(0,n.cn)("[&_tr:last-child]:border-0",e),...r}));c.displayName="TableBody",s.forwardRef(({className:e,...r},a)=>t.jsx("tfoot",{ref:a,className:(0,n.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...r})).displayName="TableFooter";let i=s.forwardRef(({className:e,...r},a)=>t.jsx("tr",{ref:a,className:(0,n.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...r}));i.displayName="TableRow";let d=s.forwardRef(({className:e,...r},a)=>t.jsx("th",{ref:a,className:(0,n.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...r}));d.displayName="TableHead";let x=s.forwardRef(({className:e,...r},a)=>t.jsx("td",{ref:a,className:(0,n.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...r}));x.displayName="TableCell",s.forwardRef(({className:e,...r},a)=>t.jsx("caption",{ref:a,className:(0,n.cn)("mt-4 text-sm text-muted-foreground",e),...r})).displayName="TableCaption";var m=a(94525);let b=({category:e})=>{let{borderColor:r,backgroundColor:a,textColor:s,chipBackgroundColor:l}=m.o_[e]||m.o_.default;return(0,t.jsxs)("div",{className:(0,n.cn)("category-badge",r,l),children:[t.jsx("div",{className:(0,n.cn)("size-2 rounded-full",a)}),t.jsx("p",{className:(0,n.cn)("text-[12px] font-medium",s),children:e})]})},u=({transactions:e})=>(0,t.jsxs)(l,{children:[t.jsx(o,{className:"bg-[#f9fafb]",children:(0,t.jsxs)(i,{children:[t.jsx(d,{className:"px-2",children:"Transaction"}),t.jsx(d,{className:"px-2",children:"Amount"}),t.jsx(d,{className:"px-2",children:"Status"}),t.jsx(d,{className:"px-2",children:"Date"}),t.jsx(d,{className:"px-2 max-md:hidden",children:"Channel"}),t.jsx(d,{className:"px-2 max-md:hidden",children:"Category"})]})}),t.jsx(c,{children:e.map(e=>{let r=(0,n.Lv)(new Date(e.date)),a=(0,n.dN)(Math.abs(e.amount)),s=e.direction||e.type,l="debit"===s||e.amount<0,o="credit"===s||e.amount>0,c=m.Zc[s||"default"]||m.Zc.default;return(0,t.jsxs)(i,{className:`${l||"-"===a[0]?"bg-[#FFFBFA]":"bg-[#F6FEF9]"} !over:bg-none !border-b-DEFAULT`,children:[t.jsx(x,{className:"max-w-[250px] pl-2 pr-10",children:(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[t.jsx("h1",{className:"text-14 truncate font-semibold text-[#344054]",children:(0,n.A2)(e.name)}),t.jsx("span",{className:`inline-flex items-center rounded-full px-2 py-0.5 text-12 font-medium ${c.bg}`,children:o?"Credit":l?"Debit":"Transfer"})]}),t.jsx("p",{className:"text-12 text-gray-500",children:e.paymentChannel||e.channel||"online"})]})}),t.jsx(x,{className:`pl-2 pr-10 font-semibold ${l||"-"===a[0]?"text-[#f04438]":"text-[#039855]"}`,children:l?`-${a}`:a}),t.jsx(x,{className:"pl-2 pr-10",children:t.jsx(b,{category:r})}),t.jsx(x,{className:"min-w-32 pl-2 pr-10",children:(0,n.o0)(new Date(e.date)).dateTime}),t.jsx(x,{className:"pl-2 pr-10 max-md:hidden",children:t.jsx(b,{category:e.category||"General"})})]},e.id)})})]})},94525:(e,r,a)=>{a.d(r,{Im:()=>t,Zc:()=>n,o_:()=>s});let t={"Food and Drink":{bg:"bg-blue-25",circleBg:"bg-blue-100",text:{main:"text-blue-900",count:"text-blue-700"},progress:{bg:"bg-blue-100",indicator:"bg-blue-700"},icon:"/icons/monitor.svg"},Travel:{bg:"bg-success-25",circleBg:"bg-success-100",text:{main:"text-success-900",count:"text-success-700"},progress:{bg:"bg-success-100",indicator:"bg-success-700"},icon:"/icons/coins.svg"},default:{bg:"bg-pink-25",circleBg:"bg-pink-100",text:{main:"text-pink-900",count:"text-pink-700"},progress:{bg:"bg-pink-100",indicator:"bg-pink-700"},icon:"/icons/shopping-bag.svg"}},s={"Food and Drink":{borderColor:"border-pink-600",backgroundColor:"bg-pink-500",textColor:"text-pink-700",chipBackgroundColor:"bg-inherit"},Payment:{borderColor:"border-success-600",backgroundColor:"bg-green-600",textColor:"text-success-700",chipBackgroundColor:"bg-inherit"},"Bank Fees":{borderColor:"border-success-600",backgroundColor:"bg-green-600",textColor:"text-success-700",chipBackgroundColor:"bg-inherit"},Transfer:{borderColor:"border-red-700",backgroundColor:"bg-red-700",textColor:"text-red-700",chipBackgroundColor:"bg-inherit"},Processing:{borderColor:"border-[#F2F4F7]",backgroundColor:"bg-gray-500",textColor:"text-[#344054]",chipBackgroundColor:"bg-[#F2F4F7]"},Success:{borderColor:"border-[#12B76A]",backgroundColor:"bg-[#12B76A]",textColor:"text-[#027A48]",chipBackgroundColor:"bg-[#ECFDF3]"},Travel:{borderColor:"border-[#0047AB]",backgroundColor:"bg-blue-500",textColor:"text-blue-700",chipBackgroundColor:"bg-[#ECFDF3]"},default:{borderColor:"",backgroundColor:"bg-blue-500",textColor:"text-blue-700",chipBackgroundColor:"bg-inherit"}},n={credit:{bg:"bg-emerald-50 text-emerald-700",text:"text-emerald-700"},debit:{bg:"bg-rose-50 text-rose-700",text:"text-rose-700"},default:{bg:"bg-brand-50 text-brand-700",text:"text-brand-700"}}}};
//# sourceMappingURL=899.js.map