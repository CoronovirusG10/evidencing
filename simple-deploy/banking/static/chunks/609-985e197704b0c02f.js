(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[609],{8609:function(e,t,n){Promise.resolve().then(n.bind(n,6395))},6395:function(e,t,n){"use strict";n.d(t,{default:function(){return h}});var r=n(7437),a=n(3145),s=n(7648),l=n(2265),i=n(3590),o=n(9501),c=n(2869),d=n(8642),u=n(5186),f=n(4508);(0,f.RL)("sign-up");var m=e=>{let{control:t,name:n,label:a,placeholder:s}=e;return(0,r.jsx)(d.Wi,{control:t,name:n,render:e=>{let{field:t}=e;return(0,r.jsxs)("div",{className:"form-item",children:[(0,r.jsx)(d.lX,{className:"form-label",children:a}),(0,r.jsxs)("div",{className:"flex w-full flex-col",children:[(0,r.jsx)(d.NI,{children:(0,r.jsx)(u.I,{placeholder:s,className:"input-class",type:"password"===n?"password":"text",...t})}),(0,r.jsx)(d.zG,{className:"form-message mt-2"})]})]})}})},x=n(1817),g=n(9376),p=n(9869),b=n(7715),h=e=>{let{type:t}=e,n=(0,g.useRouter)(),[u,h]=(0,l.useState)(null),[v,y]=(0,l.useState)(!1),[j,N]=(0,l.useState)(null),w=(0,f.RL)(t),k=(0,o.cI)({resolver:(0,i.F)(w),defaultValues:{email:"",password:""}}),S=async e=>{y(!0),N(null);try{var r,a;if("sign-up"===t){let t={firstName:e.firstName,lastName:e.lastName,address1:e.address1,city:e.city,state:e.state,postalCode:e.postalCode,dateOfBirth:e.dateOfBirth,ssn:e.ssn,email:e.email,password:e.password},n=await (0,p.y1)(t);if(!(null==n?void 0:n.success)){N(null!==(r=null==n?void 0:n.error)&&void 0!==r?r:"Sign up failed. Please try again.");return}h(n.data)}if("sign-in"===t){let t=await (0,p.zB)({email:e.email,password:e.password});if(!(null==t?void 0:t.success)){N(null!==(a=null==t?void 0:t.error)&&void 0!==a?a:"Sign in failed. Please try again.");return}n.push("/")}}catch(e){console.log(e),N("Something went wrong. Please try again.")}finally{y(!1)}};return(0,r.jsxs)("section",{className:"auth-form",children:[(0,r.jsxs)("header",{className:"flex flex-col gap-5 md:gap-8",children:[(0,r.jsxs)(s.default,{href:"/",className:"cursor-pointer flex items-center gap-1",children:[(0,r.jsx)(a.default,{src:"/icons/logo.svg",width:34,height:34,alt:"Horizon logo"}),(0,r.jsx)("h1",{className:"text-26 font-ibm-plex-serif font-bold text-black-1",children:"Horizon"})]}),(0,r.jsx)("div",{className:"flex flex-col gap-1 md:gap-3",children:(0,r.jsxs)("h1",{className:"text-24 lg:text-36 font-semibold text-gray-900",children:[u?"Link Account":"sign-in"===t?"Sign In":"Sign Up",(0,r.jsx)("p",{className:"text-16 font-normal text-gray-600",children:u?"Link your account to get started":"Please enter your details"})]})})]}),u?(0,r.jsx)("div",{className:"flex flex-col gap-4",children:(0,r.jsx)(b.Z,{user:u,variant:"primary"})}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d.l0,{...k,children:(0,r.jsxs)("form",{onSubmit:k.handleSubmit(S),className:"space-y-8",children:["sign-up"===t&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"flex gap-4",children:[(0,r.jsx)(m,{control:k.control,name:"firstName",label:"First Name",placeholder:"Enter your first name"}),(0,r.jsx)(m,{control:k.control,name:"lastName",label:"Last Name",placeholder:"Enter your first name"})]}),(0,r.jsx)(m,{control:k.control,name:"address1",label:"Address",placeholder:"Enter your specific address"}),(0,r.jsx)(m,{control:k.control,name:"city",label:"City",placeholder:"Enter your city"}),(0,r.jsxs)("div",{className:"flex gap-4",children:[(0,r.jsx)(m,{control:k.control,name:"state",label:"State",placeholder:"Example: NY"}),(0,r.jsx)(m,{control:k.control,name:"postalCode",label:"Postal Code",placeholder:"Example: 11101"})]}),(0,r.jsxs)("div",{className:"flex gap-4",children:[(0,r.jsx)(m,{control:k.control,name:"dateOfBirth",label:"Date of Birth",placeholder:"YYYY-MM-DD"}),(0,r.jsx)(m,{control:k.control,name:"ssn",label:"SSN",placeholder:"Example: 1234"})]})]}),(0,r.jsx)(m,{control:k.control,name:"email",label:"Email",placeholder:"Enter your email"}),(0,r.jsx)(m,{control:k.control,name:"password",label:"Password",placeholder:"Enter your password"}),(0,r.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,r.jsx)(c.z,{type:"submit",disabled:v,className:"form-btn",children:v?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(x.Z,{size:20,className:"animate-spin"})," \xa0 Loading..."]}):"sign-in"===t?"Sign In":"Sign Up"}),j&&(0,r.jsx)("p",{className:"text-14 text-red-500",role:"alert",children:j})]})]})}),(0,r.jsxs)("footer",{className:"flex justify-center gap-1",children:[(0,r.jsx)("p",{className:"text-14 font-normal text-gray-600",children:"sign-in"===t?"Don't have an account?":"Already have an account?"}),(0,r.jsx)(s.default,{href:"sign-in"===t?"/sign-up":"/sign-in",className:"form-link",children:"sign-in"===t?"Sign up":"Sign in"})]})]})]})}},7715:function(e,t,n){"use strict";var r=n(7437),a=n(2265),s=n(2869),l=n(6179),i=n(9376),o=n(9869),c=n(3145),d=n(1904);t.Z=e=>{let{user:t,variant:n}=e,u=(0,i.useRouter)(),[f,m]=(0,a.useState)(""),x=(0,a.useMemo)(()=>(0,d.Pj)(),[]);(0,a.useEffect)(()=>{x&&(async()=>{let e=await (0,o.Sn)(t);m(null==e?void 0:e.linkToken)})()},[t,x]);let g=(0,a.useCallback)(async e=>{await (0,o.XP)({publicToken:e,user:t}),u.push("/")},[t,u]),{open:p,ready:b}=(0,l.usePlaidLink)({token:f,onSuccess:g});return x?(0,r.jsx)(r.Fragment,{children:"primary"===n?(0,r.jsx)(s.z,{onClick:()=>p(),disabled:!b,className:"plaidlink-primary",children:"Connect bank"}):"ghost"===n?(0,r.jsxs)(s.z,{onClick:()=>p(),variant:"ghost",className:"plaidlink-ghost",children:[(0,r.jsx)(c.default,{src:"/icons/connect-bank.svg",alt:"connect bank",width:24,height:24}),(0,r.jsx)("p",{className:"hiddenl text-[16px] font-semibold text-black-2 xl:block",children:"Connect bank"})]}):(0,r.jsxs)(s.z,{onClick:()=>p(),className:"plaidlink-default",children:[(0,r.jsx)(c.default,{src:"/icons/connect-bank.svg",alt:"connect bank",width:24,height:24}),(0,r.jsx)("p",{className:"text-[16px] font-semibold text-black-2",children:"Connect bank"})]})}):"primary"===n?(0,r.jsx)("div",{className:"rounded-lg border border-brand-100 bg-white p-4 text-sm text-gray-600",children:"Plaid connections are temporarily unavailable. You can continue by adding manual transactions or contact support to enable automated syncing."}):null}},2869:function(e,t,n){"use strict";n.d(t,{z:function(){return c}});var r=n(7437),a=n(2265),s=n(8992),l=n(535),i=n(4508);let o=(0,l.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=a.forwardRef((e,t)=>{let{className:n,variant:a,size:l,asChild:c=!1,...d}=e,u=c?s.g7:"button";return(0,r.jsx)(u,{className:(0,i.cn)(o({variant:a,size:l,className:n})),ref:t,...d})});c.displayName="Button"},8642:function(e,t,n){"use strict";n.d(t,{l0:function(){return u},NI:function(){return h},pf:function(){return v},Wi:function(){return m},xJ:function(){return p},lX:function(){return b},zG:function(){return y}});var r=n(7437),a=n(2265),s=n(8992),l=n(9501),i=n(4508),o=n(6394);let c=(0,n(535).j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)(o.f,{ref:t,className:(0,i.cn)(c(),n),...a})});d.displayName=o.f.displayName;let u=l.RV,f=a.createContext({}),m=e=>{let{...t}=e;return(0,r.jsx)(f.Provider,{value:{name:t.name},children:(0,r.jsx)(l.Qr,{...t})})},x=()=>{let e=a.useContext(f),t=a.useContext(g),{getFieldState:n,formState:r}=(0,l.Gc)(),s=n(e.name,r);if(!e)throw Error("useFormField should be used within <FormField>");let{id:i}=t;return{id:i,name:e.name,formItemId:"".concat(i,"-form-item"),formDescriptionId:"".concat(i,"-form-item-description"),formMessageId:"".concat(i,"-form-item-message"),...s}},g=a.createContext({}),p=a.forwardRef((e,t)=>{let{className:n,...s}=e,l=a.useId();return(0,r.jsx)(g.Provider,{value:{id:l},children:(0,r.jsx)("div",{ref:t,className:(0,i.cn)("space-y-2",n),...s})})});p.displayName="FormItem";let b=a.forwardRef((e,t)=>{let{className:n,...a}=e,{error:s,formItemId:l}=x();return(0,r.jsx)(d,{ref:t,className:(0,i.cn)(s&&"text-destructive",n),htmlFor:l,...a})});b.displayName="FormLabel";let h=a.forwardRef((e,t)=>{let{...n}=e,{error:a,formItemId:l,formDescriptionId:i,formMessageId:o}=x();return(0,r.jsx)(s.g7,{ref:t,id:l,"aria-describedby":a?"".concat(i," ").concat(o):"".concat(i),"aria-invalid":!!a,...n})});h.displayName="FormControl";let v=a.forwardRef((e,t)=>{let{className:n,...a}=e,{formDescriptionId:s}=x();return(0,r.jsx)("p",{ref:t,id:s,className:(0,i.cn)("text-sm text-muted-foreground",n),...a})});v.displayName="FormDescription";let y=a.forwardRef((e,t)=>{let{className:n,children:a,...s}=e,{error:l,formMessageId:o}=x(),c=l?String(null==l?void 0:l.message):a;return c?(0,r.jsx)("p",{ref:t,id:o,className:(0,i.cn)("text-sm font-medium text-destructive",n),...s,children:c}):null});y.displayName="FormMessage"},5186:function(e,t,n){"use strict";n.d(t,{I:function(){return l}});var r=n(7437),a=n(2265),s=n(4508);let l=a.forwardRef((e,t)=>{let{className:n,type:a,...l}=e;return(0,r.jsx)("input",{type:a,className:(0,s.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n),ref:t,...l})});l.displayName="Input"},9869:function(e,t,n){"use strict";n.d(t,{Sn:function(){return o},XD:function(){return a},XP:function(){return c},cM:function(){return d},ok:function(){return i},y1:function(){return l},zB:function(){return s}}),n(3079);var r=n(2119),a=(0,r.$)("96e8039961c618e3ba4be2eca75b43aa5c0a737d");(0,r.$)("0c6abdfc05975ca931c616070f9610a7d4edeb93");var s=(0,r.$)("25721a35d2fe130c1ff474c4de7710f1cce0e709"),l=(0,r.$)("9d8e523dbbfd38ae42b6ca7f1d1d2a26663bad08");(0,r.$)("7856b3d61afb998297a3020bd8745f8dadbfaae3");var i=(0,r.$)("e2eb05fceb805a0cb45baca36f07e6c465fa249a"),o=(0,r.$)("cd7ed88b570f42c314b42295d09cd6a2659196e9");(0,r.$)("46de93f3843589f54b84009dd3fb9d59627f4794");var c=(0,r.$)("923fa2bad5a2a347bf920347118846f8171a0c84");(0,r.$)("76c543ac95374899df976998450aebcafeccc541");var d=(0,r.$)("5ad0e2471a0e8eb9288066e0e7edc8d2d41b8e8a")},1904:function(e,t,n){"use strict";n.d(t,{Pj:function(){return a}}),n(257);let r=(e,t)=>{if(null==e)return t;switch(e.toLowerCase()){case"1":case"true":case"yes":case"on":return!0;case"0":case"false":case"no":case"off":return!1;default:return t}},a=()=>r("true",!0)},4508:function(e,t,n){"use strict";n.d(t,{Jk:function(){return u},RL:function(){return m},T$:function(){return f},Yz:function(){return d},cn:function(){return i},dN:function(){return o}});var r=n(1994),a=n(8062),s=n(3335),l=n(7119);function i(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,s.m6)((0,r.W)(t))}function o(e){return c(e)}let c=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"USD";return new Intl.NumberFormat("en-US",{style:"currency",currency:t}).format(e)};function d(e){let{params:t,key:n,value:r}=e,s=a.Z.parse(t);return s[n]=r,a.Z.stringifyUrl({url:window.location.pathname,query:s},{skipNull:!0})}function u(e){switch(e){case"depository":return{bg:"bg-blue-25",lightBg:"bg-blue-100",title:"text-blue-900",subText:"text-blue-700"};case"credit":return{bg:"bg-success-25",lightBg:"bg-success-100",title:"text-success-900",subText:"text-success-700"};default:return{bg:"bg-green-25",lightBg:"bg-green-100",title:"text-green-900",subText:"text-green-700"}}}function f(e){return atob(e)}let m=e=>l.Ry({firstName:"sign-in"===e?l.Z_().optional():l.Z_().min(3),lastName:"sign-in"===e?l.Z_().optional():l.Z_().min(3),address1:"sign-in"===e?l.Z_().optional():l.Z_().max(50),city:"sign-in"===e?l.Z_().optional():l.Z_().max(50),state:"sign-in"===e?l.Z_().optional():l.Z_().min(2).max(2),postalCode:"sign-in"===e?l.Z_().optional():l.Z_().min(3).max(6),dateOfBirth:"sign-in"===e?l.Z_().optional():l.Z_().min(3),ssn:"sign-in"===e?l.Z_().optional():l.Z_().min(3),email:l.Z_().email(),password:l.Z_().min(8)})}}]);